diff --git a/web_app/templates/settings.html b/web_app/templates/settings.html
index c8f257b..0c78781 100644
--- a/web_app/templates/settings.html
+++ b/web_app/templates/settings.html
@@ -35,7 +35,7 @@
         <div class="form-group row">
         <label for="position" class="col-sm-3 col-form-label">Base coordinates: </label>
         <div class="col-sm-9">
-            <input id="position" type="text" name="position" class="form-control" aria-describedby="positionHelp" placeholder="latitude longitude elevation" value="{{ main_settings[0].position }}" pattern="-?\d{1,3}\.\d+[\s]-?\d{1,3}\.\d+[\s][\-+]?\d+\.\d{2,6}" required>
+            <input id="position" type="text" name="position" class="form-control" aria-describedby="positionHelp" placeholder="latitude longitude elevation" value="{{ main_settings[0].position }}" pattern="-?\d{1,3}\.\d+[\s]-?\d{1,3}\.\d+[\s][\-+]?\d+\.\d{2,4}" required>
             <small class="form-text text-muted" id="positionHelp">Antenna's coordinates: latitude (decimal degree) longitude (decimal degree) elevation (meter)</small>
         </div>
     </div>
@@ -119,9 +119,24 @@
         <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
       </svg>
     </a>
+    <span id="ntrip_A-error"></span>
     </div>
   </div>
     <form id="{{ ntrip_A_settings.pop(0).source_section }}" class="collapse was-validated">
+      <div class="form-group row">
+        <label for="svr_mode_A" class="col-sm-3 col-form-label">Caster mode: </label>
+        <div class="col-sm-9">
+            <select id="svr_mode_A" name="svr_mode_A" class="form-control" aria-describedby="svr_mode_AHelp" value="{{ ntrip_A_settings[2].svr_mode_A }}" required>
+                <!-- https://stackoverflow.com/questions/66903741/html-form-select-dynamically-preselected-value-flask-->
+                <option value="0" {% if ntrip_A_settings[2].svr_mode_A == '0' %} selected {% endif %}>NTRIP v1</option>
+                <option value="1" {% if ntrip_A_settings[2].svr_mode_A == '1' %} selected {% endif %}>TCP</option>
+                <option value="2" {% if ntrip_A_settings[2].svr_mode_A == '2' %} selected {% endif %}>NTRIP v2 HTTP</option>
+                <option value="3" {% if ntrip_A_settings[2].svr_mode_A == '3' %} selected {% endif %}>NTRIP v2 RTSP</option>
+                <option value="4" {% if ntrip_A_settings[2].svr_mode_A == '4' %} selected {% endif %}>NTRIP v2 UDP</option>
+            </select>
+            <small class="form-text text-muted" id="svr_mode_AHelp">Caster mode</small>
+        </div>
+      </div>
       <div class="form-group row">
         <label for="svr_addr_A" class="col-sm-3 col-form-label">Caster address: </label>
         <div class="col-sm-9">
@@ -136,11 +151,18 @@
             <small class="form-text text-muted" id="svr_port_AHelp">Caster port</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="svr_login_A_group">
+        <label for="svr_login_A" class="col-sm-3 col-form-label">Caster login: </label>
+        <div class="col-sm-9">
+            <input id="svr_login_A" type="text" name="svr_login_A" class="form-control" aria-describedby="svr_login_AHelp" placeholder="Enter Login" value="{{ ntrip_A_settings[3].svr_login_A }}">
+            <small class="form-text text-muted" id="svr_login_AHelp">Caster login</small>
+        </div>
+      </div>
+      <div class="form-group row" id="svr_pwd_A_group">
         <label for="svr_pwd_A" class="col-sm-3 col-form-label">Caster password: </label>
         <div class="col-sm-9">
           <div class="input-group">
-            <input id="svr_pwd_A" type="password" name="svr_pwd_A" class="form-control" aria-describedby="svr_pwd_AHelp" placeholder="Enter Password" value="{{ ntrip_A_settings[2].svr_pwd_A }}" required>
+            <input id="svr_pwd_A" type="password" name="svr_pwd_A" class="form-control" aria-describedby="svr_pwd_AHelp" placeholder="Enter Password" value="{{ ntrip_A_settings[4].svr_pwd_A }}" required>
               <span class="input-group-append">
                 <button class="btn btn-outline-secondary" id="svr_pwd_A_button" type="button">
                   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
@@ -154,24 +176,24 @@
             <small class="form-text text-muted" id="svr_pwd_AHelp">Caster password</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="mnt_name_A_group">
         <label for="mnt_name_A" class="col-sm-3 col-form-label">Mount name: </label>
         <div class="col-sm-9">
-            <input id="mnt_name_A" type="text" name="mnt_name_A" class="form-control" aria-describedby="mnt_name_AHelp" value="{{ ntrip_A_settings[3].mnt_name_A }}" pattern="[a-zA-Z\d_\-]+" required>
+            <input id="mnt_name_A" type="text" name="mnt_name_A" class="form-control" aria-describedby="mnt_name_AHelp" value="{{ ntrip_A_settings[5].mnt_name_A }}" pattern="[a-zA-Z\d_\-]+" required>
             <small class="form-text text-muted" id="mnt_name_AHelp">Mount name</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="rtcm_msg_A_group">
         <label for="rtcm_msg_A" class="col-sm-3 col-form-label">Rtcm messages: </label>
         <div class="col-sm-9">
-            <input id="rtcm_msg_A" type="text" name="rtcm_msg_A" class="form-control" aria-describedby="rtcm_msg_AHelp" placeholder="1004,1005(10),1006,1008(10),1012,1019,1020,1033(10),1042,1045,1046,1077,1087,1097,1107,1127,1230" value="{{ ntrip_A_settings[4].rtcm_msg_A }}" pattern="[0-9,\(\).]+" required>
+            <input id="rtcm_msg_A" type="text" name="rtcm_msg_A" class="form-control" aria-describedby="rtcm_msg_AHelp" placeholder="1004,1005(10),1006,1008(10),1012,1019,1020,1033(10),1042,1045,1046,1077,1087,1097,1107,1127,1230" value="{{ ntrip_A_settings[6].rtcm_msg_A }}" pattern="[0-9,\(\).]+" required>
             <small class="form-text text-muted" id="rtcm_msg_AHelp">Rtcm messages list: msg(interval in seconds),msg(interval in seconds),...</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="ntrip_A_receiver_options_group">
         <label for="ntrip_A_receiver_options" class="col-sm-3 col-form-label">Receiver options: </label>
         <div class="col-sm-9">
-            <input id="ntrip_A_receiver_options" type="text" name="ntrip_A_receiver_options" aria-describedby="ntrip_A_receiver_optionsHelp" class="form-control" value="{{ ntrip_A_settings[5].ntrip_A_receiver_options }}" pattern="[^\|><\/]*">
+            <input id="ntrip_A_receiver_options" type="text" name="ntrip_A_receiver_options" aria-describedby="ntrip_A_receiver_optionsHelp" class="form-control" value="{{ ntrip_A_settings[7].ntrip_A_receiver_options }}" pattern="[^\|><\/]*">
             <small class="form-text text-muted" id="ntrip_A_receiver_optionsHelp">Receiver dependent options, e.g. -TADJ=1 for U-Blox F9P</small>
         </div>
       </div>      
@@ -193,9 +215,23 @@
         <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
       </svg>
     </a>
+    <span id="ntrip_B-error"></span>
     </div>
   </div>
     <form id="{{ ntrip_B_settings.pop(0).source_section }}" class="collapse was-validated">
+      <div class="form-group row">
+        <label for="svr_mode_B" class="col-sm-3 col-form-label">Caster mode: </label>
+        <div class="col-sm-9">
+            <select id="svr_mode_B" name="svr_mode_B" class="form-control" aria-describedby="svr_mode_BHelp" value="{{ ntrip_B_settings[2].svr_mode_B }}" required>
+                <!-- https://stackoverflow.com/questions/66903741/html-form-select-dynamically-preselected-value-flask-->
+                <option value="0" {% if ntrip_B_settings[2].svr_mode_B == '0' %} selected {% endif %}>NTRIP v1</option>
+                <option value="1" {% if ntrip_B_settings[2].svr_mode_B == '1' %} selected {% endif %}>NTRIP v2 TCP</option>
+                <option value="2" {% if ntrip_B_settings[2].svr_mode_B == '2' %} selected {% endif %}>NTRIP v2 RTSP</option>
+                <option value="3" {% if ntrip_B_settings[2].svr_mode_B == '3' %} selected {% endif %}>TCP</option>
+            </select>
+            <small class="form-text text-muted" id="svr_mode_BHelp">Caster mode</small>
+        </div>
+      </div>
       <div class="form-group row">
         <label for="svr_addr_B" class="col-sm-3 col-form-label">Caster address: </label>
         <div class="col-sm-9">
@@ -210,11 +246,18 @@
             <small class="form-text text-muted" id="svr_port_BHelp">Caster port</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="svr_login_B_group">
+        <label for="svr_login_B" class="col-sm-3 col-form-label">Caster login: </label>
+        <div class="col-sm-9">
+            <input id="svr_login_B" type="text" name="svr_login_B" class="form-control" aria-describedby="svr_login_BHelp" placeholder="Enter Login" value="{{ ntrip_B_settings[3].svr_login_B }}">
+            <small class="form-text text-muted" id="svr_login_BHelp">Caster login</small>
+        </div>
+      </div>
+      <div class="form-group row" id="svr_pwd_B_group">
         <label for="svr_pwd_B" class="col-sm-3 col-form-label">Caster password: </label>
         <div class="col-sm-9">
           <div class="input-group">
-            <input id="svr_pwd_B" type="password" name="svr_pwd_B" class="form-control" aria-describedby="svr_pwd_BHelp" placeholder="Enter password" value="{{ ntrip_B_settings[2].svr_pwd_B }}" required>
+            <input id="svr_pwd_B" type="password" name="svr_pwd_B" class="form-control" aria-describedby="svr_pwd_BHelp" placeholder="Enter password" value="{{ ntrip_B_settings[4].svr_pwd_B }}" required>
               <span class="input-group-append">
                 <button class="btn btn-outline-secondary" id="svr_pwd_B_button" type="button">
                   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
@@ -228,24 +271,24 @@
             <small class="form-text text-muted" id="svr_pwd_BHelp">Caster password</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="mnt_name_B_group">
         <label for="mnt_name_B" class="col-sm-3 col-form-label">Mount name: </label>
         <div class="col-sm-9">
-            <input id="mnt_name_B" type="text" name="mnt_name_B" class="form-control" aria-describedby="mnt_name_BHelp" value="{{ ntrip_B_settings[3].mnt_name_B }}" pattern="[a-zA-Z\d_\-]+" required>
+            <input id="mnt_name_B" type="text" name="mnt_name_B" class="form-control" aria-describedby="mnt_name_BHelp" value="{{ ntrip_B_settings[5].mnt_name_B }}" pattern="[a-zA-Z\d_\-]+" required>
             <small class="form-text text-muted" id="mnt_name_BHelp">Mount name</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="rtcm_msg_B_group">
         <label for="rtcm_msg_B" class="col-sm-3 col-form-label">Rtcm messages: </label>
         <div class="col-sm-9">
-            <input id="rtcm_msg_B" type="text" name="rtcm_msg_B" class="form-control" aria-describedby="rtcm_msg_BHelp" placeholder="1004,1005(10),1006,1008(10),1012,1019,1020,1033(10),1042,1045,1046,1077,1087,1097,1107,1127,1230" value="{{ ntrip_B_settings[4].rtcm_msg_B }}" pattern="[0-9,\(\).]+" required>
+            <input id="rtcm_msg_B" type="text" name="rtcm_msg_B" class="form-control" aria-describedby="rtcm_msg_BHelp" placeholder="1004,1005(10),1006,1008(10),1012,1019,1020,1033(10),1042,1045,1046,1077,1087,1097,1107,1127,1230" value="{{ ntrip_B_settings[6].rtcm_msg_B }}" pattern="[0-9,\(\).]+" required>
             <small class="form-text text-muted" id="rtcm_msg_BHelp">Rtcm messages list: msg(interval in seconds),msg(interval in seconds),...</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" id="ntrip_B_receiver_options_group">
         <label for="ntrip_B_receiver_options" class="col-sm-3 col-form-label">Receiver options: </label>
         <div class="col-sm-9">
-            <input id="ntrip_B_receiver_options" type="text" name="ntrip_B_receiver_options" class="form-control" aria-describedby="ntrip_B_receiver_optionsHelp" value="{{ ntrip_B_settings[5].ntrip_B_receiver_options }}" pattern="[^\|><\/]*">
+            <input id="ntrip_B_receiver_options" type="text" name="ntrip_B_receiver_options" class="form-control" aria-describedby="ntrip_B_receiver_optionsHelp" value="{{ ntrip_B_settings[7].ntrip_B_receiver_options }}" pattern="[^\|><\/]*">
             <small class="form-text text-muted" id="ntrip_B_receiver_optionsHelp">Receiver dependent options, e.g. -TADJ=1 for U-Blox F9P</small>
         </div>
       </div>      
@@ -351,7 +394,7 @@
             <small class="form-text text-muted" id="rtcm_svr_portHelp">Rtcm server port</small>
         </div>
       </div>
-      <div class="form-group row">
+      <div class="form-group row" hidden>
         <label for="rtcm_svr_msg" class="col-sm-3 col-form-label">Rtcm server messages: </label>
         <div class="col-sm-9">
             <input id="rtcm_svr_msg" type="text" name="rtcm_svr_msg" class="form-control" aria-describedby="rtcm_svr_msgHelp" placeholder="1004,1005(10),1006,1008(10),1012,1019,1020,1033(10),1042,1045,1046,1077,1087,1097,1107,1127,1230" value="{{ rtcm_svr_settings[1].rtcm_svr_msg }}" pattern="[0-9,\(\).]+" required>
@@ -479,7 +522,7 @@
     <h4> System Settings:</h4>
     <div class="row py-2 align-items-center">
         <div class="col-sm-4">
-            <span class="col-sm-3">Rtkbase {{ g.version }}</span>
+            <span class="col-sm-3">ELT Rtkbase v{{ g.elt_version }}</span>
         </div>
         <div class="col-sm-8">
             <button id="check_update_button" class="btn btn-secondary" type="button">Check update</button>
@@ -529,7 +572,7 @@
     <div class="col-sm-8">
       <span>{{ main_settings[3].receiver }} - {{ main_settings[4].receiver_firmware }}
         {% if 'septentrio' in main_settings[3].receiver.lower() %}
-         - <a href="{{ main_settings[10] }}"><button id="ext_web_site" class="btn btn-secondary" type="button">Mosaic Web server</button></a>
+         - <a href="{{ main_settings[10] }}" target="_blank"><button id="ext_web_site" class="btn btn-secondary" type="button">Mosaic Web server</button></a>
         {% endif %}
       </span>
     </div>
@@ -602,11 +645,20 @@
       <span class="col-sm-3">Diagnostic:</span>
     </div>
     <div class="col-sm-8">
-        <a href="{{ url_for('diagnostic') }}" target="_blank" class="btn btn-secondary" role="button">View</a>
+        <a href="{{ url_for('diagnostic') }}" target="_self" class="btn btn-secondary" role="button">View</a>
         <!--<button id="download-diag-button" class="btn btn-secondary" type="button" disabled>Download</button>-->
     </div>
   </div>
 
+  <div class="row py-2 align-items-center">
+    <div class="col-sm-4">
+      <span class="col-sm-3">VPN:</span>
+    </div>
+    <div class="col-sm-8">
+        <a id="tailscale-button" class="btn btn-secondary" role="button">Tailscale admin console</a>
+    </div>
+  </div>
+
     <div class="row py-2 align-items-center">
       <div class="col-sm-4">
         <span class="col-sm-3">Power:</span>
@@ -614,6 +666,7 @@
       <div class="col-sm-8">
           <button id="reboot-button" class="btn btn-secondary" type="button">Reboot</button>
           <button id="shutdown-button" class="btn btn-secondary" type="button">Shutdown</button>
+          <button id="upgrade-button" class="btn btn-secondary" type="button">System Upgrade</button>
       </div>
   </div>
     
@@ -775,6 +828,27 @@
   </div>
 </div>
 
+<!-- The upgrade Modal dialog box-->
+<div class="modal" id="upgradeModal">
+  <div class="modal-dialog">
+    <div class="modal-content">
+      <!-- Modal Header -->
+      <div class="modal-header">
+        <h4 class="modal-title">Upgrade</h4>
+        <button type="button" class="close" data-dismiss="modal">&times;</button>
+      </div>
+      <!-- Modal body -->
+      <div class="modal-body text-center ">Update & upgrade linux. Are you sure?
+      </div>
+      <!-- Modal footer -->
+      <div class="modal-footer mx-auto">
+        <button id="confirm-upgrade-button" type="button" class="btn btn-danger">Upgrade</button>
+        <button id="upgrade-cancel-button" type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
+      </div>
+    </div>
+  </div>
+</div>
+
 {% endblock %}
 
 
